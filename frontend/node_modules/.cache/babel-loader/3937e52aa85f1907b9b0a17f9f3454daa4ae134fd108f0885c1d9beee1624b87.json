{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      profile: '',\n      alert: '',\n      serviceCategories: [{\n        name: 'Cleaning',\n        services: [{\n          service_id: 1,\n          service_name: 'House Cleaning',\n          description: 'Thorough cleaning of your house',\n          base_price: 500\n        }, {\n          service_id: 2,\n          service_name: 'Office Cleaning',\n          description: 'Office space cleaning',\n          base_price: 1000\n        }]\n      }, {\n        name: 'Home Decoration',\n        services: [{\n          service_id: 3,\n          service_name: 'Living Room Decor',\n          description: 'Decorate your living room',\n          base_price: 1500\n        }]\n      }, {\n        name: 'Health & Wellness',\n        services: [{\n          service_id: 4,\n          service_name: 'Lawn Mowing',\n          description: 'Mow your lawn',\n          base_price: 800\n        }]\n      }, {\n        name: 'Saloon',\n        services: [{\n          service_id: 4,\n          service_name: 'Lawn Mowing',\n          description: 'Mow your lawn',\n          base_price: 800\n        }]\n      }, {\n        name: 'Electrician',\n        services: [{\n          service_id: 4,\n          service_name: 'Lawn Mowing',\n          description: 'Mow your lawn',\n          base_price: 800\n        }]\n      }],\n      serviceRequests: [{\n        request_id: 1,\n        service_name: 'House Cleaning',\n        professional_id: 'P123',\n        requested_date: new Date(),\n        scheduled_date: new Date(),\n        closed_date: null,\n        status: 'Requested'\n      }, {\n        request_id: 2,\n        service_name: 'Office Cleaning',\n        professional_id: 'P124',\n        requested_date: new Date(),\n        scheduled_date: new Date(),\n        closed_date: null,\n        status: 'Requested'\n      }],\n      isProfileDropdownVisible: false\n    };\n  },\n  methods: {\n    toggleProfileDropdown() {\n      this.isProfileDropdownVisible = !this.isProfileDropdownVisible;\n    },\n    logoutuser() {\n      localStorage.removeItem('authToken');\n    }\n  },\n  async mounted() {\n    try {\n      const response = await axios.get('http://localhost:5000/customer_dashboard', {\n        headers: {\n          Authorization: `${localStorage.getItem('authToken')}`\n        }\n      });\n      if (response.status === 200) {\n        this.profile = response.data.profile;\n        console.log(response.data.profile);\n      }\n    } catch (error) {\n      if (error.response.status === 401) {\n        this.$router.push({\n          name: 'CustomerLogin',\n          query: {\n            'message': \"Please login to continue\"\n          }\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","profile","alert","serviceCategories","name","services","service_id","service_name","description","base_price","serviceRequests","request_id","professional_id","requested_date","Date","scheduled_date","closed_date","status","isProfileDropdownVisible","methods","toggleProfileDropdown","logoutuser","localStorage","removeItem","mounted","response","get","headers","Authorization","getItem","console","log","error","$router","push","query"],"sources":["/home/shrisiitm/MAD 2 Project old/MAD 2 Project/frontend/src/components/CustomerHome.vue"],"sourcesContent":["<template>\n  <div class=\"customer-dashboard\">\n    <div class=\"navbar\">\n      <h1>Welcome to Customer Dashboard</h1>\n      <div class=\"nav-links\">\n        <router-link :to=\"{name:'HomePage'}\" @click=\"logoutuser\">Logout</router-link>\n        <a href=\"/customer_search\">Search</a>\n        <a href=\"#\">Home</a>\n      </div>\n    </div>\n\n    <div class=\"profile\">\n      <button class=\"prof-button\"  style=\"background-color:black;\" @click=\"toggleProfileDropdown\">View Profile</button><br><br>\n      <div v-if=\"isProfileDropdownVisible\" class=\"dropdown-profile-content\">\n        <img style=\"width:118px; border-radius:116px;\"\n          src=\"https://img.freepik.com/premium-vector/silver-membership-icon-default-avatar-profile-icon-membership-icon-social-media-user-image-vector-illustration_561158-4195.jpg?semt=ais_hybrid\"\n          alt=\"user-image\">\n        <h3>Hello {{ profile.name }}</h3>\n        <table class=\"profile-table\">\n          <tbody>\n            <tr>\n              <td>\n                <h3>Your Email:</h3>\n              </td>\n              <td><span>{{ profile.email }}</span></td>\n            </tr>\n            \n            <tr>\n              <td><h3>Phone: </h3></td>\n              <td><span>{{ profile.contact }}</span></td>\n            </tr>\n            \n            <tr>\n              <td><h3>Address: </h3></td>\n              <td><span>{{ profile.address }}</span></td>\n            </tr>\n\n            <tr>\n              <td><h3>Pincode: </h3></td>\n              <td><span>{{ profile.pincode }}</span></td>\n            </tr>\n\n          </tbody>\n        </table>\n      </div>\n    </div><br>\n\n    <h2 style=\"font-size:30px; font-family:monospace;\">Hello, {{ profile.name }}</h2>\n\n    <div class=\"services\">\n      <h3 style=\"font-size:20px; font-family:monospace; margin-bottom:35px;\">Looking for which service category?</h3>\n      <div class=\"service-categories\">\n        <div v-for=\"category in serviceCategories\" :key=\"category.name\" class=\"dropdown\">\n          <button>{{ category.name }}</button>\n          <div class=\"dropdown-content\">\n            <table v-if=\"category.services.length > 0\">\n              <tr v-for=\"service in category.services\" :key=\"service.service_id\">\n                <td>{{ service.service_name }}</td>\n                <td>{{ service.description }}</td>\n                <td>Rs. {{ service.base_price }}</td>\n                <td><button class=\"book\" type=\"submit\">Book</button></td>\n              </tr>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <p v-if=\"alert\" class=\"alert\">{{ alert }}</p>\n\n    <div class=\"table\">\n      <p class=\"request-title\">Requested Services: </p>\n      <table v-if=\"serviceRequests.length > 0\">\n        <thead>\n          <tr>\n            <th>Request ID</th>\n            <th>Service Name</th>\n            <th>Professional ID</th>\n            <th>Request Date</th>\n            <th>Scheduled Date</th>\n            <th>Closed Date</th>\n            <th>Status</th>\n            <th>Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"record in serviceRequests\" :key=\"record.request_id\">\n            <td>{{ record.request_id }}</td>\n            <td>{{ record.service_name }}</td>\n            <td>{{ record.professional_id }}</td>\n            <td>{{ }}</td>\n            <td>{{ }}</td>\n            <td>{{ record.closed_date ? formatDate(record.closed_date) : 'Closing Date Pending' }}</td>\n            <td>{{ record.status }}</td>\n            <td>\n              <button v-if=\"record.status === 'Requested'\" @click=\"handleAction(record, 'close')\">Close it?</button>\n              <button v-if=\"record.status === 'Requested'\" @click=\"handleAction(record, 'edit')\">Edit Request</button>\n              <button v-if=\"record.status !== 'Professional Dismissed'\" @click=\"handleAction(record, 'delete')\"\n                class=\"delete-button\">Delete</button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <p v-else>Your service request is empty</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      profile: '',\n      alert: '',\n      serviceCategories: [\n        {\n          name: 'Cleaning',\n          services: [\n            { service_id: 1, service_name: 'House Cleaning', description: 'Thorough cleaning of your house', base_price: 500 },\n            { service_id: 2, service_name: 'Office Cleaning', description: 'Office space cleaning', base_price: 1000 },\n          ],\n        },\n        {\n          name: 'Home Decoration',\n          services: [\n            { service_id: 3, service_name: 'Living Room Decor', description: 'Decorate your living room', base_price: 1500 },\n          ],\n        },\n        {\n          name: 'Health & Wellness',\n          services: [\n            { service_id: 4, service_name: 'Lawn Mowing', description: 'Mow your lawn', base_price: 800 },\n          ],\n        },\n        {\n          name: 'Saloon',\n          services: [\n            { service_id: 4, service_name: 'Lawn Mowing', description: 'Mow your lawn', base_price: 800 },\n          ],\n        },\n        {\n          name: 'Electrician',\n          services: [\n            { service_id: 4, service_name: 'Lawn Mowing', description: 'Mow your lawn', base_price: 800 },\n          ],\n        }\n\n      ],\n      serviceRequests: [\n        { request_id: 1, service_name: 'House Cleaning', professional_id: 'P123', requested_date: new Date(), scheduled_date: new Date(), closed_date: null, status: 'Requested' },\n        { request_id: 2, service_name: 'Office Cleaning', professional_id: 'P124', requested_date: new Date(), scheduled_date: new Date(), closed_date: null, status: 'Requested' },\n      ],\n      isProfileDropdownVisible: false,\n    };\n  },\n  methods: {\n    toggleProfileDropdown() {\n    this.isProfileDropdownVisible = !this.isProfileDropdownVisible;\n  },\n\n    logoutuser(){\n      localStorage.removeItem('authToken')\n    }\n  },\n  async mounted() {\n    try {\n      const response = await axios.get('http://localhost:5000/customer_dashboard', {\n        headers: {\n          Authorization: `${localStorage.getItem('authToken')}`\n        }\n      });\n\n      if (response.status === 200) {\n        this.profile = response.data.profile;\n        console.log(response.data.profile);\n      }\n    }\n    catch (error) {\n      if(error.response.status === 401){\n        this.$router.push({name:'CustomerLogin', query:{'message':\"Please login to continue\"}});\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.customer-dashboard {\n  font-family: 'Arial', sans-serif;\n  padding: 20px;\n}\n\n.navbar {\n  background-color: #333;\n  color: white;\n  padding: 10px;\n  margin-top: -80px;\n}\n\n.navbar h1 {\n  font-size: 210%;\n}\n\n.nav-links a {\n  margin-left: 15px;\n  text-decoration: none;\n  color: #f0f0f0;\n  font-size: 19px;\n}\n\n.profile-table tbody tr td {\n  padding-top:0px;\n  padding-bottom:0px;\n\n}\n.profile {\n  position: relative;\n  margin-top: 20px;\n  z-index: 1;\n}\n\n.prof-button {\n  padding: 10px 20px;\n  background-color: #4CAF50;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  width: 8%;\n  float: right;\n  z-index: 2;\n}\n\n.prof-button:hover {\n  background-color: #45a049;\n}\n\n.dropdown-profile-content {\n  position: absolute;\n  top: 50px;\n  right: 0;\n  background-color: beige;\n  width: 323px;\n  border-radius: 8px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n  padding: 9px;\n  z-index: 1000;\n}\n\n.services {\n  margin-top: 30px;\n  margin-bottom: 70px;\n}\n\n.dropdown-content button.book {\n  width: 85px;\n  height: 40px;\n  font-size: 17px;\n  padding: 12px;\n  background-color: #1ed3cd;\n  color: white;\n  border: none;\n  cursor: pointer;\n  border-radius: 5px;\n}\n\n.service-categories {\n  display: flex;\n  gap: 56px;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n}\n\n.dropdown {\n  position: relative;\n}\n\n.dropdown button {\n  padding: 22px;\n  background-color: #4CAF50;\n  color: white;\n  border: none;\n  cursor: pointer;\n  border-radius: 5px;\n  font-size: 18px;\n  width: 191px;\n}\n\n.dropdown button:hover {\n  background-color: #45a049;\n}\n\n.dropdown-content {\n  display: none;\n  position: absolute;\n  top: 100%;\n  left: 0;\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n  padding: 15px;\n  width: 100%;\n}\n\n.dropdown:hover .dropdown-content {\n  display: table;\n}\n\n.btn {\n  padding: 10px 20px;\n  background-color: #2196F3;\n  color: white;\n  border: none;\n  border-radius: 5px;\n}\n\n.btn:hover {\n  background-color: #1976D2;\n}\n\n.request-title {\n  font-size: 1.5em;\n}\n\n.table table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 20px;\n}\n\n.table th,\n.table td {\n  padding: 10px;\n  border: 1px solid #ddd;\n  text-align: left;\n}\n\n.delete-button {\n  background-color: #f44336;\n  color: white;\n}\n\n.delete-button:hover {\n  background-color: #e53935;\n}\n\n.alert {\n  text-align: center;\n  color: red;\n  font-size: 1.2em;\n  margin-top: 20px;\n}\n\ntd {\n  padding: 13px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}