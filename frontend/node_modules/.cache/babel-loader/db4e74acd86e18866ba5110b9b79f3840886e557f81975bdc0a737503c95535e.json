{"ast":null,"code":"export default {\n  data() {\n    return {\n      searchType: \"\",\n      searchQuery: \"\",\n      services: [],\n      customerEmail: \"customer@example.com\" // Replace with actual user data\n    };\n  },\n  methods: {\n    async searchServices() {\n      if (!this.searchType || !this.searchQuery) return;\n      try {\n        const response = await fetch(\"/customer_search\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            form_id: \"search\",\n            search_type: this.searchType,\n            service: this.searchQuery\n          })\n        });\n        const result = await response.json();\n        this.services = result.services || [];\n      } catch (error) {\n        console.error(\"Error fetching services:\", error);\n      }\n    },\n    async bookService(serviceId) {\n      try {\n        const response = await fetch(\"/customer_search\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            form_id: \"book\",\n            service_id: serviceId,\n            customer_email: this.customerEmail\n          })\n        });\n        const result = await response.json();\n        alert(result.message || \"Service booked successfully!\");\n      } catch (error) {\n        console.error(\"Error booking service:\", error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","searchType","searchQuery","services","customerEmail","methods","searchServices","response","fetch","method","headers","body","JSON","stringify","form_id","search_type","service","result","json","error","console","bookService","serviceId","service_id","customer_email","alert","message"],"sources":["/home/shrisiitm/MAD 2 Project old/MAD 2 Project/frontend/src/components/CustomerSearch.vue"],"sourcesContent":["<template>\n    <div>\n      <!-- Navbar -->\n      <nav class=\"navbar\">\n        <h1>Customer Dashboard</h1>\n        <div>\n          <router-link to=\"/customer_home\">Home</router-link>\n          <router-link to=\"/customer_search\">Search</router-link>\n          <router-link to=\"/logout_user\">Logout</router-link>\n        </div>\n      </nav>\n  \n      <!-- Content -->\n      <div class=\"content\">\n        <h3>Search for a service</h3>\n        <form @submit.prevent=\"searchServices\">\n          <label for=\"search_type\">Search By: </label>\n          <select v-model=\"searchType\" required>\n            <option value=\"\">Select</option>\n            <option value=\"service_name\">Service Name</option>\n            <option value=\"service_category\">Service Category</option>\n          </select>\n          <input type=\"text\" v-model=\"searchQuery\" placeholder=\"Enter service...\" required>\n          <button type=\"submit\">Search</button>\n        </form>\n  \n        <!-- Service Table -->\n        <table v-if=\"services.length\">\n          <thead>\n            <tr>\n              <th>Service Category</th>\n              <th>Service Name</th>\n              <th>Description</th>\n              <th>Price</th>\n              <th>Action</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"record in services\" :key=\"record.service_id\">\n              <td>{{ record.service_category }}</td>\n              <td>{{ record.service_name }}</td>\n              <td>{{ record.description }}</td>\n              <td>Rs. {{ record.base_price }}</td>\n              <td>\n                <button class=\"btn\" @click=\"bookService(record.service_id)\">Book</button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <p v-if=\"services.length === 0\">No services found.</p>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    data() {\n      return {\n        searchType: \"\",\n        searchQuery: \"\",\n        services: [],\n        customerEmail: \"customer@example.com\", // Replace with actual user data\n      };\n    },\n    methods: {\n      async searchServices() {\n        if (!this.searchType || !this.searchQuery) return;\n  \n        try {\n          const response = await fetch(\"/customer_search\", {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({\n              form_id: \"search\",\n              search_type: this.searchType,\n              service: this.searchQuery,\n            }),\n          });\n  \n          const result = await response.json();\n          this.services = result.services || [];\n        } catch (error) {\n          console.error(\"Error fetching services:\", error);\n        }\n      },\n      async bookService(serviceId) {\n        try {\n          const response = await fetch(\"/customer_search\", {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({\n              form_id: \"book\",\n              service_id: serviceId,\n              customer_email: this.customerEmail,\n            }),\n          });\n  \n          const result = await response.json();\n          alert(result.message || \"Service booked successfully!\");\n        } catch (error) {\n          console.error(\"Error booking service:\", error);\n        }\n      },\n    },\n  };\n  </script>\n  \n  <style scoped>\n  body {\n    font-family: 'Arial', sans-serif;\n    background-color: #f4f4f4;\n    color: #333;\n    margin: 0;\n    padding: 0;\n  }\n  \n  .navbar {\n    background-color: #333;\n    color: white;\n    padding: 10px 20px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin:-60px;\n  }\n  \n  .navbar a {\n    color: white;\n    text-decoration: none;\n    padding: 10px 20px;\n    transition: background 0.3s;\n  }\n  \n  .navbar a:hover {\n    background-color: #575757;\n    border-radius: 5px;\n  }\n  \n  .content {\n    max-width: 900px;\n    margin: 30px auto;\n    padding: 20px;\n    background-color: white;\n    border-radius: 8px;\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  }\n  \n  h3 {\n    text-align: center;\n    font-size: 22px;\n    margin-bottom: 30px;\n  }\n  \n  form {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-bottom: 40px;\n  }\n  \n  select, input[type=\"text\"], button {\n    padding: 10px;\n    margin: 0 10px;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    font-size: 16px;\n  }\n  \n  select {\n    width: 160px;\n  }\n  \n  button {\n    background-color: #333;\n    color: white;\n    cursor: pointer;\n    transition: background 0.3s;\n  }\n  \n  button:hover {\n    background-color: #575757;\n  }\n  \n  table {\n    width: 100%;\n    border-collapse: collapse;\n    margin-top: 20px;\n  }\n  \n  th, td {\n    padding: 12px 15px;\n    text-align: left;\n    border-bottom: 1px solid #ddd;\n  }\n  \n  th {\n    background-color: #333;\n    color: white;\n  }\n  \n  td {\n    background-color: #f9f9f9;\n  }\n  \n  .btn {\n    padding: 8px 12px;\n    background-color: #333;\n    color: white;\n    border: none;\n    cursor: pointer;\n    border-radius: 5px;\n  }\n  \n  .btn:hover {\n    background-color: #575757;\n  }\n  </style>\n  "],"mappings":"AAuDE,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,UAAU,EAAE,EAAE;MACdC,WAAW,EAAE,EAAE;MACfC,QAAQ,EAAE,EAAE;MACZC,aAAa,EAAE,sBAAsB,CAAE;IACzC,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,cAAcA,CAAA,EAAG;MACrB,IAAI,CAAC,IAAI,CAACL,UAAS,IAAK,CAAC,IAAI,CAACC,WAAW,EAAE;MAE3C,IAAI;QACF,MAAMK,QAAO,GAAI,MAAMC,KAAK,CAAC,kBAAkB,EAAE;UAC/CC,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YAAE,cAAc,EAAE;UAAmB,CAAC;UAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YACnBC,OAAO,EAAE,QAAQ;YACjBC,WAAW,EAAE,IAAI,CAACd,UAAU;YAC5Be,OAAO,EAAE,IAAI,CAACd;UAChB,CAAC;QACH,CAAC,CAAC;QAEF,MAAMe,MAAK,GAAI,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC;QACpC,IAAI,CAACf,QAAO,GAAIc,MAAM,CAACd,QAAO,IAAK,EAAE;MACvC,EAAE,OAAOgB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAClD;IACF,CAAC;IACD,MAAME,WAAWA,CAACC,SAAS,EAAE;MAC3B,IAAI;QACF,MAAMf,QAAO,GAAI,MAAMC,KAAK,CAAC,kBAAkB,EAAE;UAC/CC,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YAAE,cAAc,EAAE;UAAmB,CAAC;UAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YACnBC,OAAO,EAAE,MAAM;YACfS,UAAU,EAAED,SAAS;YACrBE,cAAc,EAAE,IAAI,CAACpB;UACvB,CAAC;QACH,CAAC,CAAC;QAEF,MAAMa,MAAK,GAAI,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC;QACpCO,KAAK,CAACR,MAAM,CAACS,OAAM,IAAK,8BAA8B,CAAC;MACzD,EAAE,OAAOP,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAChD;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}